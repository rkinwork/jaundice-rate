# Фильтр желтушных новостей

Скрипт на основе словаря желтушных слов подсчитывает на сколько статья наполнена этими словами. Алгоритм простой: текст статьи разбивается на так называемые токены - то есть приводит все слова к одной форме и убирает предлоги и дальше уже идут подсчёты.

Пока поддерживается только один новостной сайт - [ИНОСМИ.РУ](https://inosmi.ru/). Для него разработан специальный адаптер, умеющий выделять текст статьи на фоне остальной HTML разметки. Для других новостных сайтов потребуются новые адаптеры, все они будут находиться в каталоге `adapters`. Туда же помещен код для сайта ИНОСМИ.РУ: `adapters/inosmi_ru.py`.

В перспективе можно создать универсальный адаптер, подходящий для всех сайтов, но его разработка будет сложной и потребует дополнительных времени и сил.

# Как установить

Вам понадобится Python версии 3.7 или старше. Для установки пакетов рекомендуется создать виртуальное окружение.

Первым шагом установите пакеты:

```python3
pip install -r requirements.txt
```

# Как запустить

1. Пройтись по ссылкам
```python3
python main.py
```
2. В виде веб-сервера:
Запустить скрипт и перейти по [ссылке](http://0.0.0.0:8080/?urls=https://inosmi.ru/politic/20210621/249959311.html) статьи можно передавать разделенные запятой, но не больше 10 штук. Веб сервер предназначен только для демонстрации возможностей.
```python3
python server.py
```

# Как запустить тесты

Для тестирования используется [pytest](https://docs.pytest.org/en/latest/), тестами покрыты фрагменты кода сложные в отладке: text_tools.py и адаптеры. Команды для запуска тестов:

```python
python3 -m pytest adapters/inosmi_ru.py
```

```python
python3 -m pytest text_tools.py
```

```python
python3 -m pytest jaundice_tools.py
```

# Цели проекта

Код написан в учебных целях. Это урок из курса по веб-разработке — [Девман](https://dvmn.org).
